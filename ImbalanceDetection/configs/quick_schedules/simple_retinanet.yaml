_BASE_: "../Base-RetinaNet.yaml"
MODEL:
  WEIGHTS: "detectron2://ImageNetPretrained/MSRA/R-50.pkl"
  RESNETS:
    DEPTH: 50
  ROI_HEADS:
    NUM_CLASSES: 80 #1230
#    SCORE_THRESH_TEST: 0.0001
  ANCHOR_GENERATOR:
    SIZES: !!python/object/apply:eval ["[[x, x * 2**(1.0/3), x * 2**(2.0/3) ] for x in [32, 64, 128, 256, 512]]"]
    ASPECT_RATIOS: [[1.0]]
  RETINANET:
    NUM_CLASSES: 80
    IN_FEATURES: ["p3", "p4", "p5", "p6", "p7"]
    IOU_LABELS: [0, 1, 1] #consider unmatched into matched
TEST:
  EVAL_PERIOD: 500 #500
SOLVER:
  STEPS: (105000, 120000)
  MAX_ITER: 135000
  GAMMA: 0.5
  CHECKPOINT_PERIOD: 10000
  BASE_LR: 0.01
  IMS_PER_BATCH: 16 #16
#INPUT:
#  MAX_SIZE_TEST: 640
#  MAX_SIZE_TRAIN: 640
#  MIN_SIZE_TEST: 640
#  MIN_SIZE_TRAIN: (640, )
#  RANDOM_FLIPPING: False
#  RESIZING: False
#DATALOADER:
#    ASPECT_RATIO_GROUPING: False
OUTPUT_DIR: "./output/gambler/debug"